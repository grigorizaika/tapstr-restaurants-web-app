{"remainingRequest":"/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/babel-loader/lib/index.js!/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/src/components/RestaurantStart.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/src/components/RestaurantStart.vue","mtime":1560256423063},{"path":"/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"/home/grgr/Projects/tapstr/tapstr-restaurants-web-app_copy/node_modules/@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { Auth } from 'aws-amplify';\nimport { AmplifyEventBus } from 'aws-amplify-vue';\nimport axios from 'axios';\nexport default {\n  name: 'RestaurantStart',\n  data: function data() {\n    return {\n      signedIn: false,\n      restaurant_name: \"\",\n      restaurant_email: \"\",\n      restaurant_city: \"\"\n    };\n  },\n  created: function created() {\n    var _this = this;\n\n    this.findUser();\n    AmplifyEventBus.$on('authState', function (info) {\n      if (info === \"signedIn\") {\n        _this.findUser();\n      } else {\n        _this.signedIn = false;\n      }\n    });\n  },\n  methods: {\n    findUser: function () {\n      var _findUser = _asyncToGenerator(\n      /*#__PURE__*/\n      regeneratorRuntime.mark(function _callee() {\n        var user;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return Auth.currentAuthenticatedUser();\n\n              case 3:\n                user = _context.sent;\n                this.signedIn = true;\n                console.log(user);\n                _context.next = 11;\n                break;\n\n              case 8:\n                _context.prev = 8;\n                _context.t0 = _context[\"catch\"](0);\n                this.signedIn = false;\n\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[0, 8]]);\n      }));\n\n      function findUser() {\n        return _findUser.apply(this, arguments);\n      }\n\n      return findUser;\n    }(),\n    submitRestaurantData: function submitRestaurantData() {\n      var _this2 = this;\n\n      axios.post('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-sign-up', {\n        name: this.restaurant_name,\n        email: this.restaurant_email,\n        city: this.restaurant_city\n      }).then(function (response) {\n        window.console.log(response);\n        _this2.restaurant_name = \"\";\n        _this2.restaurant_email = \"\";\n        _this2.restaurant_city = \"\";\n      });\n    }\n  }\n};",{"version":3,"sources":["RestaurantStart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,SAAA,IAAA,QAAA,aAAA;AACA,SAAA,eAAA,QAAA,iBAAA;AACA,OAAA,KAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,iBADA;AAEA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,QAAA,EAAA,KADA;AAGA,MAAA,eAAA,EAAA,EAHA;AAIA,MAAA,gBAAA,EAAA,EAJA;AAKA,MAAA,eAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AAAA;;AACA,SAAA,QAAA;AACA,IAAA,eAAA,CAAA,GAAA,CAAA,WAAA,EAAA,UAAA,IAAA,EAAA;AACA,UAAA,IAAA,KAAA,UAAA,EAAA;AACA,QAAA,KAAA,CAAA,QAAA;AACA,OAFA,MAEA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,KAAA;AACA;AACA,KANA;AAOA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAGA,IAAA,CAAA,wBAAA,EAHA;;AAAA;AAGA,gBAAA,IAHA;AAIA,qBAAA,QAAA,GAAA,IAAA;AACA,gBAAA,OAAA,CAAA,GAAA,CAAA,IAAA;AALA;AAAA;;AAAA;AAAA;AAAA;AAOA,qBAAA,QAAA,GAAA,KAAA;;AAPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAUA,IAAA,oBAVA,kCAUA;AAAA;;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,4EAAA,EAAA;AACA,QAAA,IAAA,EAAA,KAAA,eADA;AAEA,QAAA,KAAA,EAAA,KAAA,gBAFA;AAGA,QAAA,IAAA,EAAA,KAAA;AAHA,OAAA,EAIA,IAJA,CAIA,UAAA,QAAA,EAAA;AACA,QAAA,MAAA,CAAA,OAAA,CAAA,GAAA,CAAA,QAAA;AACA,QAAA,MAAA,CAAA,eAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,gBAAA,GAAA,EAAA;AACA,QAAA,MAAA,CAAA,eAAA,GAAA,EAAA;AACA,OATA;AAUA;AArBA;AArBA,CAAA","sourcesContent":["<template>\n  <b-container fluid class=\"h-100\">\n    <b-row>\n      <b-col cols='3'>\n\n      </b-col>\n      <b-col cols='6'>\n        <div id=\"restaurantInfoForm\" v-if=\"signedIn\" align=\"center\">\n          <b-input type=\"text\" placeholder=\"Name\" name=\"name_field\" v-model=\"restaurant_name\" class=\"w-75\"></b-input>\n          <b-input type=\"email\" placeholder=\"Email\" name=\"email_field\" v-model=\"restaurant_email\" class=\"w-75\"></b-input>\n          <b-input type=\"text\" placeholder=\"City\" name=\"city_field\" v-model=\"restaurant_city\" class=\"w-75\"></b-input>\n\n          <b-button @click=\"submitRestaurantData()\">Submit</b-button>\n        </div>\n        <amplify-authenticator v-if=\"!signedIn\"></amplify-authenticator>\n      </b-col>\n      <b-col cols='3'>\n        <amplify-sign-out v-if=\"signedIn\"></amplify-sign-out>\n      </b-col>\n    </b-row>\n  </b-container>\n</template>\n\n<script>\nimport { Auth } from 'aws-amplify'\nimport { AmplifyEventBus } from 'aws-amplify-vue'\nimport axios from 'axios'\n\nexport default {\n  name: 'RestaurantStart',\n  data: function() {\n    return {\n      signedIn: false,\n\n      restaurant_name: \"\",\n      restaurant_email: \"\",\n      restaurant_city: \"\"\n    }\n  },\n  created() {\n    this.findUser();\n    AmplifyEventBus.$on('authState', info => {\n      if(info === \"signedIn\") {\n        this.findUser();\n      } else {\n        this.signedIn = false;\n      }\n    });\n  },\n  methods: {\n    async findUser() {\n      try {\n        const user = await Auth.currentAuthenticatedUser();\n        this.signedIn = true;\n        console.log(user);\n      } catch (err) {\n        this.signedIn = false;\n      }\n    },\n    submitRestaurantData() {\n      axios.post('https://axqeajmn83.execute-api.eu-central-1.amazonaws.com/dev/user-sign-up', {\n        name: this.restaurant_name,\n        email: this.restaurant_email,\n        city: this.restaurant_city\n      }).then((response) => {\n        window.console.log(response);\n        this.restaurant_name=\"\";\n        this.restaurant_email=\"\";\n        this.restaurant_city=\"\";\n      });\n    }\n  }\n};\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\nh3 {\n  margin: 40px 0 0;\n}\nul {\n  list-style-type: none;\n  padding: 0;\n}\nli {\n  display: inline-block;\n  margin: 0 10px;\n}\na {\n  color: #42b983;\n}\n\ninput {\n  margin: 16px;\n}\n\n#restaurantInfoForm {\n  padding: 2%;\n  background-color: #e3e3e3;\n}\n\n</style>\n"],"sourceRoot":"src/components"}]}